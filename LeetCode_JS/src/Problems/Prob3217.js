const ListUtils = require('../Utils/ListUtils.js');
const TreeUtils = require('../Utils/TreeUtils.js');

/**
 * @param {ListNode} head
 * @param {TreeNode} root
 * @return {boolean}
 */
var isSubPath = function(head, root) {

	/**
	 * Recursively checks if there is a path in the binary tree that matches the given linked list.
	 * The function compares the current linked list node's value with the current tree node's value
	 * and continues searching down the tree.
	 *
	 * @param {ListNode} currListNode - The current node of the linked list being checked.
	 * @param {TreeNode} currTreeNode - The current node of the binary tree being checked.
	 * @param {boolean} isCurrHead - A flag indicating if the current list node is the beginning of the list.
	 * @param {ListNode} headOfList - The head of the linked list, used when restarting the match from the head.
	 * 
	 * @return {boolean} - Returns `true` if there is a valid path that matches the linked list,
	 *                     otherwise returns `false`.
	 *
	 * Edge cases:
	 * - If the `currListNode` is null or undefined, it means the entire list has been matched, so return true.
	 * - If the `currTreeNode` is null or undefined, it means the tree path ended without matching the list fully,
	 *   so return false unless the list has also been fully matched.
	 *
	 * Recursive behavior:
	 * - If the current linked list node and tree node values match, the function continues to check the left and right
	 *   children of the current tree node.
	 * - If the values don't match, and the tree node is considered a potential new match (i.e., `isCurrHead` is true),
	 *   the function attempts to restart the list match from the head with the tree node's children.
	 * - If neither of these cases applies, it returns false.
	 */

	let checkForSubpath = function(currListNode, currTreeNode, isCurrHead, headOfList){
		
		//edge cases
		if (currListNode === null || currListNode === undefined) { //no more item in the list
			return true;
		} else if (currTreeNode === null || currTreeNode === undefined) { //leaf reached, true if list also depleted
			return currListNode === null;
		}//fi
		
		//console.log('gone here, list val ' + currListNode.val + ' tree: ' + currTreeNode.val);
		
		if (currListNode.val !== currTreeNode.val) {//values not same
		
			if (isCurrHead) {//is head, let children do the match				
				return (checkForSubpath(headOfList, currTreeNode.left, true, headOfList)
				|| checkForSubpath(headOfList, currTreeNode.right, true, headOfList));	
			} else {//not head, just return false				
				return false;
			}//fi
					
		} else {//values same, current list node and tree node match
			let resultFromChildren;
			
			resultFromChildren = (checkForSubpath(currListNode.next, currTreeNode.left, false, headOfList)
				|| checkForSubpath(currListNode.next, currTreeNode.right, false, headOfList));
				
			if (!resultFromChildren) {//current nodes match but children don't match
				if (isCurrHead) {//is head, let children do the match
					return (checkForSubpath(headOfList, currTreeNode.left, true, headOfList)
					|| checkForSubpath(headOfList, currTreeNode.right, true, headOfList));	
				} else {
					return false;
				}//fi
			} else {
				return true;
			}//fi
		}//fi
	}//end method
	

	return checkForSubpath(head, root, true, head);
};

let root, head;

root = TreeUtils.buildTree([2,null,1,null,2,null,2,null,2,null,1,2,2,null,null,null,2,2,2,null,null,null,2,null,2,1,2,null,null,null,2,2,2,null,null,null,1,null,1,1,2,null,null,null,2,2,2,null,null,null,2,null,2,null,2,null,1,1,1,null,null,null,1,2,1,null,null,1,1,null,null,null,1,2,2,null,null,1,2,null,null,null,2,null,1,1,2,null,null,null,1,null,1,null,2,null,1,null,1,2,2,null,null,2,1,null,null,null,1,2,1,null,null,null,1,null,1,null,1,null,1,null,1,2,2,null,null,null,2,null,2,null,2,1,2,null,null,1,1,null,null,null,2,null,2,null,1,2,1,null,null,2,1,null,null,null,1,null,1,null,1,null,1,null,1,null,2,1,1,null,null,null,1,null,2,null,1,null,2,1,1,null,null,2,2,null,null,1,2,null,null,null,1,null,2,null,2,2,1,null,null,null,1,null,2,null,2,null,2,2,2,null,null,null,2,null,1,null,2,null,1,null,1,2,2,null,null,null,1,null,1,1,2,null,null,null,2,null,1,2,1,null,null,1,2,null,null,null,1,2,2,null,null,null,2,null,2,null,1,null,1,null,2,2,1,null,null,2,1,null,null,null,2,null,1,null,2,2,2,null,null,null,2,2,2,null,null,null,1,null,1,1,2,null,null,1,2,null,null,null,2,1,1,null,null,null,1,null,1,null,2,null,1,null,2,null,2,null,1,null,2,null,2,1,1,null,null,null,1,null,2,null,2,1,1,null,null,1,1,null,null,1,1,null,null,null,1,null,2,null,2,null,2,null,1,1,2,null,null,null,2,2,1,null,null,1,2,null,null,null,1,null,2,null,1,null,1,null,2,null,1,null,1,null,2,null,1,null,1,1,1,null,null,null,2,null,1,1,1,null,null,null,1,null,1,null,1,1,1,null,null,null,2,null,2,null,1,null,2,1,1,null,null,2,2,null,null,null,2,null,2,null,2,2,2,null,null,null,2,null,2,2,2,null,null,null,1,null,2,null,1,2,2,null,null,null,2,2,2,null,null,2,1,null,null,null,2,null,1,null,1,null,1,1,2,null,null,null,2,null,1,null,1,2,1,null,null,null,2,null,1,null,2,null,1,2,1,null,null,null,1,1,2,null,null,1,1,null,null,null,1,1,2,null,null,1,2,null,null,null,1,null,1,null,2,null,2,2,2,null,null,null,1,2,2,null,null,null,2,2,1,null,null,null,1,null,1,null,2,1,1,null,null,null,1,null,1,1,2,null,null,null,1,1,2,null,null,null,1,1,2,null,null,null,1,null,2,null,1,null,2,null,2,null,1,null,1,null,1,2,1,null,null,1,2,null,null,1,1,null,null,null,2,null,1,null,1,null,1,null,1,null,2,1,1,null,null,null,1,null,2,null,1,null,1,null,2,null,2,null,2,null,2,null,1,null,2,null,1,null,1,2,2,null,null,2,2,null,null,null,1,null,2,null,1,null,2,null,2,2,1,null,null,1,2,null,null,null,1,null,2,null,2,null,2,2,2,null,null,null,2,1,2,null,null,null,1,null,1,null,2,1,2,null,null,null,1,null,1,null,1,null,2,null,1,null,1,2,2,null,null,null,1,null,1,1,2,null,null,null,1,null,2,null,2,2,1,null,null,1,2,null,null,null,2,null,2,null,1,null,1,null,2,2,2,null,null,null,1,2,2,null,null,null,1,null,1,2,2,null,null,null,2,null,2,2,1,null,null,2,1,null,null,null,2,null,1,null,2,null,1,null,2,null,1,2,2,null,null,null,2,1,2,null,null,null,2,2,1,null,null,null,2,null,1,null,2,null,2,1,2,null,null,null,1,null,1,null,2,null,1,null,2,null,1,null,2,null,1,null,2,null,1,null,1,null,2,null,2,null,1,null,1,null,2,null,1,2,2,null,null,1,1,null,null,null,2,2,2,null,null,null,2,1,2,null,null,null,2,2,2,null,null,1,1,null,null,null,2,null,1,2,1,null,null,2,1,null,null,null,2,2,1,null,null,null,2,null,2,null,1,null,1,null,2,null,1,null,2,1,1,null,null,null,1,null,2,null,2,null,2,null,1,2,1,null,null,null,2,null,2,null,2,null,1,2,1,null,null,null,2,null,2,null,2,null,2,null,2,1,2,null,null,null,2,null,1,null,1,null,1,null,2,2,1,null,null,null,2,2,2,null,null,null,1,null,1,null,2,1,1,null,null,1,2,null,null,null,1,null,1,null,2,null,1,2,1,null,null,null,2,null,2,null,2,null,2,null,1,2,2,null,null,null,1,null,2,null,1,1,1,null,null,null,1,null,1,null,1,1,2,null,null,null,1,null,2,null,1,null,2,1,1,null,null,1,1,null,null,null,1,null,2,null,1,null,2,null,1,2,2,null,null,2,1,null,null,null,2,null,2,null,1,null,2,null,2,null,1,null,1,null,2,null,2,null,2,null,1,1,1,null,null,null,1,1,1,null,null,null,1,null,1,2,2,null,null,2,1,null,null,null,1,null,1,null,1,null,1,2,1,null,null,1,2,null,null,null,2,2,2,null,null,null,2,2,2,null,null,null,1,null,2,null,1,1,1,null,null,null,2,2,1,null,null,2,1,null,null,null,2,null,1,1,1,null,null,null,1,1,1,null,null,null,2,null,1,null,1,1,1,null,null,1,2,null,null,null,2,2,1,null,null,null,2,2,1,null,null,1,2,null,null,1,2,null,null,null,1,2,1,null,null,2,1,null,null,2,2,null,null,null,1,null,1,null,1,2,1,null,null,1,2,null,null,1,1,null,null,null,1,1,1,null,null,2,1,null,null,null,1,null,2,null,1,null,1,null,2,1,2,null,null,1,1,null,null,null,2,2,2,null,null,2,1,null,null,null,1,1,2,null,null,1,1,null,null,null,2,null,2,1,1,null,null,null,1,null,1,null,2,null,1,2,2,null,null,null,2,null,1,null,1,null,1,null,2,null,2,1,2,null,null,2,1,null,null,null,2,1,1,null,null,2,1,null,null,null,1,null,2,null,1,2,2,null,null,2,2,null,null,null,2,null,2,null,1,null,1,null,1,null,2,null,1,null,1,null,2,null,2,2,2,null,null,null,1,null,1,2,2,null,null,null,2,null,1,null,1,2,2,null,null,null,2,1,1,null,null,null,2,null,1,null,1,null,1,null,1,null,1,2,2,null,null,null,2,null,1,null,2,null,1,null,2,null,1,null,2,2,1,null,null,2,1,null,null,null,1,2,2,null,null,null,1,null,1,1,1,null,null,1,2,null,null,2,1,null,null,null,2,1,2,null,null,1,2,null,null,2,1,null,null,2,2,null,null,1,1,null,null,null,1,2,2,null,null,null,2,2,1,null,null,null,1,null,1,null,1,null,1,null,2,1,2,null,null,1,2,null,null,null,2,1,1,null,null,null,2,null,2,1,1,null,null,null,1,2,1,null,null,1,2,null,null,2,2,null,null,1,2,null,null,null,1,2,2,null,null,2,1,null,null,null,2,null,2,null,2,1,2,null,null,null,1,2,1,null,null,null,1,2,1,null,null,2,1,null,null,1,2,null,null,null,1,null,2,2,2,null,null,2,1,null,null,null,1,2,1,null,null,2,2,null,null,null,1,null,2,1,2,null,null,null,1,null,2,null,1,null,1,null,1,null,1,null,1,2,1,null,null,null,1,null,1,null,2,2,1,null,null,1,1,null,null,null,1,null,2,2,1,null,null,null,2,null,1,null,1,null,1,null,2,1,1,null,null,null,2,null,2,2,1,null,null,null,2,null,1,2,1,null,null,2,2,null,null,null,1,null,1,1,1,null,null,2,1,null,null,null,2,1,1,null,null,null,2,null,1,2,2,null,null,2,2,null,null,null,1,null,1,null,1,null,2,2,1,null,null,null,1,2,2,null,null,null,1,null,1,null,2,null,1,null,2,null,1,null,1,null,2,2,1,null,null,null,1,null,1,null,1,null,2,null,1,null,2,null,1,1,1,null,null,null,1,null,1,1,1,null,null,null,1,null,1,null,2,null,2,null,2,null,1,1,1,null,null,null,2,1,1,null,null,null,1,1,1,null,null,null,2,null,1,null,1,null,2,null,1,null,2,1,1,null,null,null,1,2,1,null,null,2,1,null,null,null,2,1,1,null,null,null,2,2,2,null,null,null,2,null,2,null,1,2,2,null,null,null,2,null,1,null,2,1,1,null,null,1,2,null,null,null,1,null,2,2,1,null,null,null,1,null,1,null,1,null,2,null,2,null,2,2,1,null,null,null,2,null,1,null,1,null,2,null,1,null,1,2,1,null,null,null,1,null,1,2,1,null,null,null,2,1,2,null,null,null,1,null,2,null,2,1,2,null,null,2,1,null,null,2,1,null,null,2,2,null,null,1,1,null,null,null,1,2,2,null,null,null,2,2,2,null,null,2,1,null,null,null,1,1,1,null,null,null,1,null,1,1,2,null,null,null,2,null,1,null,2,null,1,2,2,null,null,null,2,null,2,1,2,null,null,null,1,null,2,1,2,null,null,2,2,null,null,null,2,null,2,null,2,2,1,null,null,null,2,null,1,1,1,null,null,null,1,null,2,2,2,null,null,null,1,null,1,1,1,null,null,2,1,null,null,null,2,null,2,null,1,null,2,null,2,null,2,null,2,null,2,null,1,null,1,null,2,2,2,null,null,null,1,null,1,null,2,null,2,null,2,null,2,null,1,null,1,null,1,null,1,null,2,null,1,null,2,null,2,1,2,null,null,null,1,null,2,2,1,null,null,null,1,null,2,null,1,1,1,null,null,1,1,null,null,null,1,null,2,null,1,null,1,1,2,null,null,2,1,null,null,null,1,null,2,2,2,null,null,null,1,null,1,1,1,null,null,2,2,null,null,2,1,null,null,null,1,null,2,null,1,null,2,null,1,null,1,null,2,null,1,1,2,null,null,null,1,null,1,null,2,null,1,1,1,null,null,2,2,null,null,null,2,2,1,null,null,null,2,1,1,null,null,null,2,null,2,null,2,null,1,null,2,2,2,null,null,null,2,null,1,null,2,null,2,null,2,1,1,null,null,null,2,null,1,null,2,null,1,null,2,1,2,null,null,null,2,1,1,null,null,null,2,null,2,null,2,1,2,null,null,null,1,1,1,null,null,1,2,null,null,null,2,null,1,null,2,1,2,null,null,null,2,null,1,null,1,null,2,1,1,null,null,null,1,1,1,null,null,1,2,null,null,2,2,null,null,null,1,null,1,null,1,2,1,null,null,null,1,null,2,1,2,null,null,null,1,1,2,null,null,1,1,null,null,null,1,null,2,2,1,null,null,null,1,null,1,null,1,null,2,2,1,null,null,2,1,null,null,null,2,2,2,null,null,2,1,null,null,2,1,null,null,null,1,null,1,null,2,null,1,null,2,null,2,null,2,1,2,null,null,1,1,null,null,1,1,null,null,null,1,null,1,null,2,null,1,null,2,null,2,null,2,null,1,null,2,null,1,null,1,null,1,null,2,null,1,2,1,null,null,2,1,null,null,null,1,null,2,null,1,1,1,null,null,null,1,null,2,1,2,null,null,1,1,null,null,null,2,2,1,null,null,null,2,null,1,null,1,null,1,2,2,null,null,1,2,null,null,null,2,1,1,null,null,1,2,null,null,1,2,null,null,null,2,2,1,null,null,2,2,null,null,null,2,null,2,null,1,1,2,null,null,1,1,null,null,null,2,1,1,null,null,null,2,2,1,null,null,null,1,null,1,2,1,null,null,null,2,null,2,null,1,2,2,null,null,null,1,null,1,null,2,null,2,null,1,null,1,null,1,null,2,2,1,null,null,null,1,null,1,null,2,null,1,null,1,2,2,null,null,null,1,2,1,null,null,null,2,null,1,1,2,null,null,null,2,null,1,2,1,null,null,null,1,null,1,null,2,null,1,2,2,null,null,null,1,2,2,null,null,null,2,null,2,null,2,null,2,2,1,null,null,null,2,null,1,null,2,1,1,null,null,null,2,null,1,null,1,null,1,1,1,null,null,null,1,null,1,2,2,null,null,null,2,null,1,null,2,2,1,null,null,null,1,null,1,2,1,null,null,2,2,null,null,2,2,null,null,2,2,null,null,null,2,null,2,2,2,null,null,null,2,null,1,null,2,null,2,null,2,null,2,null,2,2,1,null,null,null,1,2,1,null,null,null,1,1,2,null,null,null,2,2,2,null,null,null,2,null,1,null,1,1,2,null,null,null,2,2,1,null,null,1,2,null,null,null,1,null,2,1,1,null,null,2,1,null,null,null,2,null,1,1,1,null,null,1,1,null,null,null,1,null,1,2,1,null,null,null,2,null,1,2,1,null,null,null,1,null,1,null,1,null,1,2,1,null,null,2,2,null,null,null,2,null,2,null,2,null,2,null,1,null,2,null,1,1,2,null,null,null,2,null,1,null,1,null,2,null,1,2,2,null,null,null,2,null,2,null,1,2,1,null,null,null,2,null,2,1,1,null,null,null,2,null,1,1,1,null,null,1,1,null,null,null,1,null,1,1,1,null,null,null,1,null,1,null,2,null,1,2,2,null,null,null,2,null,2,null,1,null,1,1,1,null,null,2,2,null,null,null,1,null,2,null,1,null,2,null,1,2,1,null,null,null,2,null,2,null,1,null,1,null,2,null,1,null,2,null,1,null,1,null,1,2,1,null,null,null,2,1,2,null,null,null,2,null,1,null,1,2,2,null,null,1,2,null,null,null,2,2,1,null,null,2,2,null,null,2,2,null,null,1,1,null,null,null,1,1,2,null,null,null,2,null,1,null,2,null,2,2,1,null,null,null,1,null,1,null,1,null,2,null,2,1,2,null,null,null,2,null,2,2,1,null,null,2,1,null,null,null,1,2,2,null,null,null,2,null,1,null,2,null,2,null,2,2,2,null,null,null,2,null,1,null,1,2,1,null,null,null,1,null,1,null,1,null,1,null,1,1,2,null,null,null,1,null,1,null,2,null,2,null,2,null,2,null,1,1,1,null,null,2,2,null,null,null,1,null,1,1,2,null,null,1,2,null,null,null,2,null,2,null,2,null,2,1,2,null,null,null,2,null,1,null,2,null,1,null,2,null,2,null,2,null,1,null,2,2,2,null,null,2,2,null,null,2,2,null,null,2,1,null,null,2,1,null,null,2,2,null,null,2,2,null,null,null,2,2,2,null,null,null,2,1,2,null,null,null,1,null,2,2,1,null,null,2,1,null,null,2,2,null,null,null,1,null,2,2,2,null,null,null,1,null,1,null,2,null,1,null,1,2,2,null,null,null,1,null,1,null,1,1,2,null,null,2,1,null,null,null,1,null,2,null,1,null,2,1,2,null,null,1,2,null,null,null,2,null,1,2,1,null,null,null,1,null,2,null,1,1,2,null,null,null,2,null,1,1,1,null,null,null,2,2,1,null,null,2,2,null,null,null,2,null,1,null,1,null,2,null,2,null,1,null,1,1,1,null,null,null,2,null,1,null,2,2,1,null,null,null,2,null,2,1,2,null,null,null,2,2,2,null,null,null,2,null,2,null,1,2,2,null,null,null,2,null,1,null,2,null,2,null,2,null,2,2,2,null,null,null,2,null,1,1,1,null,null,1,1,null,null,null,1,2,2,null,null,2,1,null,null,null,2,null,1,null,2,null,2,1,1,null,null,1,2,null,null,1,2,null,null,null,1,null,1,null,1,1,1,null,null,null,1,null,2,null,1,null,2,null,2,null,1,2,2,null,null,1,1,null,null,null,2,null,1,null,1,null,2,1,1,null,null,null,2,null,1,null,2,2,1,null,null,null,2,null,2,2,1,null,null,null,1,2,1,null,null,null,2,null,1,1,2,null,null,null,2,null,2,2,1,null,null,null,2,null,1,null,2,null,2,1,1,null,null,null,1,null,1,1,1,null,null,null,1,null,2,null,2,null,1,1,2,null,null,null,2,null,1,null,2,null,1,null,1,null,1,null,1,null,1,null,1,null,2,null,2,null,2,null,2,2,1,null,null,1,1,null,null,null,2,null,1,null,1,1,2,null,null,2,1,null,null,null,2,null,2,2,1,null,null,null,1,null,1,null,1,null,1,null,2,null,2,1,1,null,null,null,2,1,2,null,null,1,2,null,null,2,2,null,null,null,1,null,2,null,1,null,1,2,2,null,null,null,2,null,1,null,1,null,2,1,2,null,null,null,2,null,1,null,1,1,1,null,null,null,2,1,1,null,null,2,2,null,null,2,2,null,null,null,1,2,2,null,null,1,1,null,null,null,2,null,1,null,2,null,1,null,2,1,2,null,null,null,1,null,2,2,2,null,null,null,1,null,1,null,2,2,2,null,null,null,1,null,1,2,1,null,null,null,2,null,1,2,2,null,null,null,1,null,2,null,2,1,2,null,null,null,1,null,1,null,2,null,2,null,2,null,1,null,1,null,1,null,2,null,2,null,1,null,1,1,2,null,null,2,1,null,null,null,2,null,1,2,1,null,null,null,2,2,1,null,null,null,1,2,1,null,null,null,1,null,2,null,2,2,2,null,null,1,1,null,null,null,2,2,2,null,null,1,1,null,null,null,1,null,1,null,1,null,2,null,1,null,1,null,2,null,2,1,1,null,null,null,1,null,1,null,1,null,2,2,1,null,null,null,1,null,2,1,1,null,null,null,2,null,1,2,2,null,null,null,1,2,2,null,null,2,2,null,null,null,2,null,1,null,1,null,2,null,2,null,2,1,2,null,null,1,2,null,null,null,2,null,2,null,1,null,1,null,2,null,2,null,1,2,1,null,null,null,1,null,2,null,2,null,1,null,2,2,2,null,null,null,1,null,1,null,2,null,2,1,2,null,null,null,1,null,2,1,1,null,null,null,1,null,2,null,2,2,2,null,null,null,2,null,2,null,1,2,2,null,null,null,1,null,2,2,1,null,null,1,1,null,null,null,1,null,2,2,1,null,null,2,1,null,null,null,1,null,1,2,2,null,null,2,2,null,null,1,2,null,null,null,1,null,2,null,2,null,1,null,1,null,2,1,1,null,null,null,2,null,2,null,1,1,2,null,null,null,2,null,1,null,2,1,2,null,null,2,1,null,null,null,1,null,1,null,1,null,1,2,1,null,null,null,1,2,2,null,null,2,2,null,null,null,2,null,2,null,1,null,1,2,1,null,null,null,1,null,2,2,1,null,null,1,2,null,null,null,2,null,1,null,2,null,1,null,2,null,1,null,1,null,1,1,1,null,null,null,2,2,1,null,null,1,2,null,null,null,1,1,2,null,null,null,1,null,2,null,2,null,2,null,1,null,2,null,1,null,2,null,2,null,1,null,1,1,2,null,null,null,2,null,1,1,1,null,null,null,2,null,2,null,2,null,2,null,2,null,1,null,1,null,2,null,1,null,1,null,2,2,1,null,null,1,2,null,null,null,1,1,2,null,null,2,2,null,null,null,1,2,2,null,null,1,1,null,null,null,1,1,2,null,null,null,1,1,2,null,null,1,1,null,null,null,1,1,2,null,null,null,2,null,1,null,1,null,2,2,2,null,null,null,1,null,1,null,1,null,1,null,1,null,2,1,2,null,null,2,2,null,null,null,2,null,1,null,2,null,1,null,1,2,1,null,null,null,1,null,2,null,2,null,2,null,1,null,2,null,1,null,1,null,2,null,1,2,1,null,null,null,2,null,2,2,2,null,null,null,2,null,1,null,1,null,1,null,1,null,2,null,1,2,1,null,null,null,2,null,2,null,1,null,1,null,1,2,1,null,null,null,2,null,2,1,2,null,null,null,1,2,2,null,null,1,2,null,null,1,2,null,null,2,2,null,null,2,2,null,null,null,1,null,2,null,2,null,1,null,2,null,1,null,1,2,1,null,null,null,1,1,1,null,null,null,2,null,2,null,2,null,1,null,1,null,1,null,2,1,2,null,null,null,1,2,1,null,null,1,1,null,null,null,2,null,1,null,1,null,1,2,2,null,null,null,2,null,2,1,1,null,null,null,1,null,1,null,1,null,2,null,2,null,2,null,2,null,1]);

head = ListUtils.buildList([2,1,2,1,2,2,2,2,1,2,1,2,2,2,1,1,2,1,2,1,2,1,2,1,1,2,2,1,1,2,1,2,1,2,2,2,2,2,2,1,2,1,1,1,2,1,2,2,1,1,2,1,2,1,1,2,2,2,1,1,2,2,2,1,1,2,2,2,2,2,2,2,1,1,1,2,1,2,2,1,1,2,1,2,1,1,2,1,1,2,2,2,2,1,2,1,2,1,1,1]);
console.log('list: ' + ListUtils.listToString(head));
TreeUtils.displayTree(root);
console.log('ans: ' + isSubPath(head, root));


/*
root = TreeUtils.buildTree([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,null,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,null,null,1,1,null,1,1,1,1,1,null,null,1,1,1,1,1,null,1,1,1,1,null,null,1,1,null,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,null,1,1,null,null,1,1,1,null,null,1,1,1,1,1,1,1,1,1,1,1,1,null,1,null,1,1,null,1,1,null,null,null,1,1,null,1,1,1,1,null,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,null,1,null,1,null,null,null,1,1,1,1,1,1,1,1,1,1,null,1,null,1,null,null,1,1,1,1,null,1,null,1,1,null,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,null,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,null,null,null,null,1,null,1,1,1,1,null,1,1,1,null,1,1,null,1,1,1,null,null,1,1,1,1,1,1,1,null,1,1,1,null,null,1,1,null,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,null,1,1,null,1,1,null,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,null,1,null,1,1,1,1,null,1,1,null,1,1,null,null,1,null,null,1,null,null,null,1,1,1,null,1,1,1,null,1,null,1,1,1,1,1,1,1,1,1,1,1,1,null,1,null,null,null,1,null,1,1,1,null,null,1,1,1,1,null,1,null,1,null,1,null,null,null,null,1,1,1,1,null,null,1,1,null,null,1,1,1,1,1,1,1,1,1,1,null,1,null,1,1,null,null,1,null,1,1,null,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,null,1,1,1,1,1,1,null,null,1,1,null,1,null,null,1,1,1,1,1,1,1,1,1,null,1,1,null,1,1,1,null,1,null,1,null,1,1,1,1,1,null,null,null,1,1,1,null,null,null,null,1,1,1,1,null,null,1,null,null,null,null,null,null,1,null,null,1,1,1,1,null,null,1,null,1,null,1,1,1,null,1,null,1,1,1,null,null,1,null,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,null,null,null,1,1,1,1,1,1,1,1,1,1,1,1,1,null,null,null,1,1,1,null,1,null,1,null,1,1,1,1,1,null,null,null,null,null,1,1,1,null,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,1,1,null,1,1,null,1,1,1,null,null,null,1,1,null,null,null,null,null,1,1,1,1,1,1,1,1,1,1,null,null,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,null,null,1,1,1,1,null,1,null,1,null,null,null,null,null,1,1,null,1,1,null,null,1,null,1,1,null,null,null,1,1,null,1,null,null,null,null,1,null,1,1,null,1,1,1,null,null,null,null,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,1,null,null,1,null,null,null,null,1,1,null,null,null,1,1,1,1,1,1,1,1,null,null,1,1,null,null,1,1,null,1,1,1,1,1,null,null,1,1,1,1,1,1,1,1,1,1,1,1,null,1,1,1,1,1,null,1,1,1,null,1,1,null,1,1,1,1,1,null,1,null,1,1,null,null,1,1,null,1,1,null,1,1,1,1,null,1,1,1,1,null,1,null,null,1,null,null,null,null,1,1,1,null,null,1,1,1,1,1,1,null,null,1,null,1,null,null,1,null,1,1,null,null,null,1,1,null,null,1,null,null,1,null,1,null,null,1,null,null,null,1,1,1,null,1,null,null,null,null,1,1,1,null,1,1,1,1,null,1,null,null,1,1,1,1,null,null,null,null,1,1,1,1,null,1,1,1,null,null,null,1,1,1,1,1,1,1,1,1,1,null,1,null,1,null,1,1,1,null,1,1,1,1,1,1,1,1,1,1,null,1,null,1,1,null,1,null,1,null,null,null,1,null,1,null,1,1,null,null,1,1,null,null,null,null,1,null,null,null,null,null,1,1,1,1,null,1,1,null,1,1,1,1,1,1,1,1,null,1,1,1,1,1,1,1,1,null,null,1,1,null,1,1,1,null,1,null,null,null,null,1,null,1,null,1,1,1,1,1,null,null,null,null,1,null,null,null,1,1,null,null,null,null,1,null,null,1,null,null,null,null,null,null,1,1,1,1,1,1,1,null,null,null,1,null,1,1,null,null,1,null,1,1,1,null,null,1,null,null,null,null,1,null,1,1,null,1,null,1,1,null,null,null,1,1,1,null,1,null,1,null,null,1,null,null,1,1,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,1,1,1,1,null,null,1,null,null,null,null,1,1,1,1,1,null,null,null,1,1,1,1,null,null,null,null,1,null,null,1,1,null,null,null,null,null,1,1,1,1,1,1,null,1,1,null,1,null,null,null,null,1,1,1,1,1,1,null,1,1,null,1,null,1,1,1,1,null,null,null,null,1,null,null,1,null,null,1,null,null,1,1,1,1,1,1,null,1,null,1,1,1,1,1,null,1,1,1,1,1,null,null,null,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,null,1,null,1,null,1,1,1,null,1,null,null,1,1,1,null,null,1,null,1,1,null,null,null,1,1,1,1,1,1,1,null,null,null,null,null,1,1,1,1,1,1,null,1,null,1,1,null,null,null,null,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,null,null,null,null,null,null,null,null,null,1,null,1,1,null,null,null,null,1,null,null,1,null,1,1,1,1,1,1,null,null,null,null,null,null,null,1,null,1,1,1,1,null,1,null,null,1,null,null,null,1,1,1,1,1,null,null,null,null,null,1,1,1,1,1,1,1,1,1,null,null,1,null,1,1,null,1,1,null,null,1,null,null,null,null,1,1,1,1,1,null,1,1,1,null,null,null,null,1,1,1,1,1,null,null,null,null,1,1,1,1,1,1,null,null,1,null,1,1,1,1,null,1,1,null,null,null,1,null,null,1,null,1,1,null,null,null,1,1,1,null,null,null,null,1,null,null,1,null,null,1,null,1,null,null,null,1,null,1,1,null,null,1,null,null,1,1,1,null,null,null,1,1,1,null,null,null,1,null,1,null,1,1,null,null,1,1,null,null,null,1,null,null,1,null,1,null,null,1,null,null,null,null,null,null,null,1,1,null,null,1,null,1,1,1,1,null,null,null,null,null,1,1,1,null,null,null,null,null,1,null,null,1,null,null,null,1,1,null,null,null,1,1,1,null,1,null,1,1,1,1,null,null,null,1,1,null,null,null,null,1,1,1,1,null,1,1,1,null,null,null,1,1,null,null,null,1,null,null,null,1,1,1,null,1,null,null,1,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,1,null,1,null,null,null,null,null,null,1,1,null,null,null,null,null,null,1,1,1,null,1,1,1,1,1,1,1,null,1,null,1,1,1,null,null,null,null,1,1,1,null,1,null,1,1,1,1,1,1,1,1,null,null,1,null,1,1,1,null,1,1,1,1,1,1,1,null,null,null,1,1,1,1,1,1,1,1,1,null,1,null,null,null,1,1,null,null,1,1,null,null,null,null,1,1,1,1,null,null,1,null,1,null,null,null,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,null,null,null,null,1,1,1,1,1,null,1,1,null,null,null,1,1,null,null,1,null,1,1,null,1,null,1,1,1,null,null,null,null,1,1,1,1,null,null,null,null,1,null,null,1,1,1,1,null,1,1,null,null,null,null,null,null,1,null,1,null,1,1,1,null,null,null,null,null,null,1,null,1,1,1,null,1,1,1,null,1,null,null,null,1,1,1,null,1,null,null,null,1,1,1,1,1,1,null,1,null,null,null,1,null,1,null,null,null,1,null,null,1,null,null,null,null,1,null,1,1,null,1,null,1,null,1,null,null,1,1,null,null,1,null,null,null,1,1,null,1,null,null,null,1,null,null,1,1,1,1,1,1,null,null,1,null,1,null,null,null,null,null,null,null,1,null,1,null,1,null,1,1,1,null,null,null,null,1,null,1,1,1,1,null,null,null,null,null,1,null,null,null,null,1,1,null,null,1,1,null,1,null,null,null,null,null,1,1,null,1,1,1,1,1,1,1,null,1,1,1,null,null,null,null,null,1,null,null,null,null,null,1,1,null,null,null,1,1,null,null,1,null,null,null,null,null,1,null,null,null,null,null,null,null,null,1,null,null,null,null,1,1,null,null,null,null,null,null,null,null,1,1,null,1,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,1,null,null,null,null,null,1,1,1,1,1,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,1,1,null,null,1,null,1,null,null,null,1,1,null,null,1,1,1,1,null,null,null,1,null,1,1,1,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,1,null,1,1,1,1,null,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,1,null,1,null,null,1,1,1,null,null,null,null,1,1,1,1,1,1,1,null,1,null,null,1,1,1,1,1,null,1,null,1,null,1,1,1,1,1,null,null,1,null,1,1,1,1,1,1,1,1,1,1,1,1,1,null,null,null,null,1,1,1,1,null,null,null,null,1,1,null,null,1,1,1,1,null,1,null,null,null,null,null,null,1,null,null,null,null,null,null,1,null,1,1,1,null,null,null,1,1,1,1,1,1,null,1,1,1,1,1,null,null,1,1,null,1,null,null,1,1,1,1,1,1,1,null,null,null,1,null,1,1,null,1,null,null,null,null,null,1,null,null,null,1,null,null,null,1,null,1,null,1,null,null,null,null,1,1,null,null,1,null,1,1,null,null,1,1,1,1,1,1,null,null,null,null,null,null,1,1,1,1,null,null,null,null,1,null,null,null,null,1,null,null,null,null,null,1,null,1,null,1,null,null,null,null,1,null,null,null,null,1,null,null,1,1,null,1,null,null,1,1,null,null,null,1,1,null,null,null,1,null,1,null,null,null,1,null,1,null,null,null,null,1,1,null,1,null,1,null,null,1,1,1,1,1,1,null,null,null,null,null,1,1,1,null,null,null,null,1,null,null,null,null,null,1,null,null,null,null,1,1,null,null,1,1,null,null,null,null,null,null,null,null,1,null,1,1,null,null,null,1,1,1,1,1,1,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,1,null,null,1,null,1,null,null,1,1,1,1,1,null,null,1,null,null,null,1,null,null,1,null,null,null,null,null,null,null,null,1,null,1,1,1,null,null,1,null,null,1,null,1,null,1,1,1,1,null,1,1,null,null,null,null,null,null,1,null,null,null,null,null,1,null,null,1,null,null,null,null,null,1,1,1,null,1,null,null,null,1,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,1,1,1,null,1,null,1,1,null,null,null,1,null,null,null,null,null,1,1,null,null,null,null,1,1,1,null,null,null,null,1,1,1,1,1,null,1,1,null,null,null,null,1,1,1,1,1,1,1,1,1,1,null,1,null,1,null,null,null,null,1,1,1,1,1,1,1,1,1,1,1,1,null,null,1,1,null,null,null,null,null,null,1,null,null,null,1,1,1,null,null,null,1,1,null,null,null,null,null,null,1,null,null,1,1,1,null,1,null,null,null,null,null,null,null,null,1,null,1,null,null,1,1,1,1,null,1,1,null,null,null,null,1,1,1,null,1,null,null,1,null,null,1,1,1,1,null,1,null,1,1,null,null,null,null,1,null,1,1,null,1,1,null,1,null,null,null,null,1,null,1,null,1,null,null,1,1,null,null,null,1,null,null,null,null,1,null,1,null,null,1,null,null,1,1,1,null,null,null,null,null,1,1,null,1,1,null,null,1,null,1,null,1,1,null,null,1,null,1,1,null,null,1,1,null,1,null,1,null,1,null,1,null,1,null,1,null,null,null,null,null,null,null,1,null,1,null,null,1,1,null,null,1,null,1,null,1,null,null,1,null,null,1,null,1,null,1,1,null,null,null,null,null,null,null,null,1,1,null,null,null,null,1,1,1,null,null,null,null,1,1,1,null,1,1,null,1,null,1,null,null,null,null,null,1,1,1,1,null,null,1,null,null,null,null,1,null,null,null,null,null,1,null,null,null,null,null,null,null,null,null,null,1,1,1,null,1,1,1,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,1,1,null,1,null,null,null,null,null,null,1,1,1,1,null,null,1,1,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,1,1,null,1,1,null,null,null,null,1,1,1,1,null,null,1,null,1,1,1,1,1,1,null,1,1,1,1,null,null,1,null,null,null,null,null,null,null,null,1,1,1,1,1,1,1,null,null,null,1,null,null,null,1,1,1,1,null,null,1,1,1,1,1,null,1,1,null,1,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,1,null,null,null,null,1,1,null,null,null,null,null,null,null,1,1,1,1,null,1,null,1,null,null,1,null,null,null,null,null,1,null,null,null,null,1,1,null,null,null,1,null,null,null,1,null,1,null,null,1,null,1,null,1,1,null,null,null,null,null,1,null,null,null,null,null,null,1,null,null,1,null,null,null,null,1,null,1,1,null,null,null,null,null,1,null,null,1,null,1,null,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,1,null,1,1,1,null,null,null,1,null,1,null,null,null,1,1,null,1,null,null,null,null,null,1,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,1,null,1,1,null,null,null,null,null,null,null,null,null,null,null,1,1,1,null,null,null,null,null,null,1,null,null,null,null,1,null,null,null,null,1,1,null,null,null,null,1,null,null,null,null,null,null,1,null,null,null,null,null,1,1,1,1,1,1,1,1,null,null,1,1,1,1,null,1,null,1,null,null,null,1,null,null,1,null,1,1,null,null,null,null,1,1,1,1,1,1,1,null,1,1,null,1,null,null,null,null,null,1,1,1,null,null,1,1,null,null,null,1,null,null,null,null,1,1,null,1,1,null,null,null,null,null,1,1,1,null,null,1,null,null,null,null,null,1,1,1,null,1,1,1,null,null,null,1,null,1,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,1,null,null,null,null,null,1,1,1,1,null,1,null,null,null,null,1,null,null,null,null,1,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,1,1,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,1,1,1,1,1,1,1,null,null,null,1,1,1,null,1,1,1,1,null,1,1,1,1,1,1,null,null,null,null,1,1,null,1,null,1,1,null,null,null,null,1,1,1,1,1,null,1,null,1,null,null,1,null,null,1,1,1,null,1,null,null,null,1,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,1,null,1,null,null,null,null,null,1,null,null,null,null,1,null,1,null,1,null,null,null,1,1,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,1,1,1,null,1,null,1,null,null,1,null,null,1,null,1,null,1,1,null,null,1,null,1,null,1,1,1,null,1,null,1,null,1,1,1,null,null,1,1,1,null,null,1,1,1,1,1,1,null,1,1,1,null,null,null,1,1,null,1,null,null,null,null,null,1,null,null,null,null,null,1,null,null,null,null,1,null,null,1,1,null,null,null,null,null,1,1,null,null,null,null,1,1,1,null,1,1,1,null,1,null,null,1,1,1,1,null,null,null,1,null,1,null,1,null,null,null,1,null,1,null,null,null,null,null,1,1,null,1,null,null,null,null,null,1,null,null,null,null,1,null,null,null,null,null,1,null,1,null,null,null,1,null,null,null,null,null,1,1,null,null,null,null,1,null,null,1,null,null,1,null,null,null,null,null,null,1,null,null,null,null,null,1,1,null,null,null,null,null,null,null,null,null,1,null,null,1,1,null,null,null,null,null,null,null,null,null,1,1,1,null,null,null,1,1,null,1,1,1,null,1,null,null,null,null,1,null,null,1,null,null,1,null,null,null,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,1,null,null,null,null,null,null,1,1,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,1,null,1,1,null,null,1]);
head = ListUtils.buildList([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]);
console.log('list: ' + ListUtils.listToString(head));
TreeUtils.displayTree(root);
console.log('ans: ' + isSubPath(head, root));



root = TreeUtils.buildTree([2,null,2,null,2,null,1]);
head = ListUtils.buildList([2,2,1]);
console.log('list: ' + ListUtils.listToString(head));
TreeUtils.displayTree(root);
console.log('ans: ' + isSubPath(head, root));



root = TreeUtils.buildTree([1,4,4,null,2,2,null,1,null,6,8,null,null,null,null,1,3]);
head = ListUtils.buildList([4,2,8]);
console.log('list: ' + ListUtils.listToString(head));
TreeUtils.displayTree(root);
console.log('ans: ' + isSubPath(head, root));

//*/